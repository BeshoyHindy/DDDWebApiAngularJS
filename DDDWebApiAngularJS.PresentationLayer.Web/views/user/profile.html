<h2>{{languages.getValue('Profile')}}</h2>
<hr />
<form novalidate name="form" class="form-horizontal" role="form">
    <div class="col-md-offset-1 col-md-10">
        <h4>{{languages.getValue('PersonalInformations')}}</h4>
    </div>

    <!--antiforgerytoken-->

    <!--general message-->
    <div ng-hide="message == ''" ng-class="(isSuccessfully) ? 'alert alert-success' : 'alert alert-danger'">
        {{message}}
    </div>
    <!--general message-->

    <!--name-->
    <div class="form-group has-feedback" ng-class="{ 'has-error': form.name.$invalid && form.name.$dirty, 'has-success': !form.name.$invalid && form.name.$dirty }">
        <label class="col-md-2 control-label">{{languages.getValue('Name')}}</label>
        <div class="col-md-4">
            <input type="text" class="form-control" name="name" ng-model="registerViewModel.name" required ng-minlength="3" ng-maxlength="60" />
            <i class="glyphicon glyphicon-ok form-control-feedback"></i>
            <i class="glyphicon glyphicon-remove form-control-feedback"></i>
        </div>
        <div ng-show="form.name.$dirty" class="col-md-4 message">
            <span ng-show="form.name.$error.required" class="form-control alert alert-danger">
                {{languages.getValue('RequiredM').replace('{0}', languages.getValue('Name'))}}
            </span>
            <span ng-show="form.name.$error.minlength || form.name.$error.maxlength" class="form-control alert alert-danger">
                {{languages.getValue('Length').replace('{0}', languages.getValue('Name')).replace('{1}', '3').replace('{2}', '60')}}
            </span>
        </div>
    </div>
    <!--name-->

    <!--email-->
    <div class="form-group has-feedback" ng-class="{ 'has-error': form.email.$invalid && form.email.$dirty, 'has-success': !form.email.$invalid && form.email.$dirty }">
        <label class="col-md-2 control-label">{{languages.getValue('Email')}}</label>
        <div class="col-md-4">
            <input type="text" class="form-control" name="email" ng-model="registerViewModel.email" required pattern="[^@]+@[^@]+\.[a-zA-Z]{2,6}" />
            <i class="glyphicon glyphicon-ok form-control-feedback"></i>
            <i class="glyphicon glyphicon-remove form-control-feedback"></i>
        </div>
        <div ng-show="form.email.$dirty" class="col-md-4 message">
            <span ng-show="form.email.$error.required" class="form-control alert alert-danger">
                {{languages.getValue('RequiredM').replace('{0}', languages.getValue('Email'))}}
            </span>
            <span ng-show="!(form.email.$error.required) && form.email.$invalid" class="form-control alert alert-danger">
                {{languages.getValue('InvalidM').replace('{0}', languages.getValue('Email'))}}&nbsp;Ex: user@domain.com
            </span>
        </div>
    </div>
    <!--email-->
    
    <!--button-->
    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <button type="submit" class="btn btn-success" ng-click="register()" 
                    ng-disabled="form.$invalid || registerViewModel.password != registerViewModel.confirmPassword">
                {{languages.getValue('Save')}}
            </button>
        </div>
    </div>
    <!--button-->
</form>

<form novalidate name="form2" class="form-horizontal" role="form">
    <div class="col-md-offset-1 col-md-10">
        <h4>{{languages.getValue('Change')}}&nbsp;{{languages.getValue('Password')}}</h4>
    </div>

    <!--old password-->
    <div class="form-group has-feedback" 
         ng-class="{ 'has-error': form.password.$invalid && form.password.$dirty, 'has-success': !form.password.$invalid && form.password.$dirty }">
        <label class="col-md-2 control-label">{{languages.getValue('OldPassword')}}</label>
        <div class="col-md-4">
            <input type="password" id="password" class="form-control" name="password" ng-model="registerViewModel.password" required ng-minlength="6" ng-maxlength="20"
                   pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}" />
            <i class="glyphicon glyphicon-ok form-control-feedback"></i>
            <i class="glyphicon glyphicon-remove form-control-feedback"></i>
        </div>
        <div ng-show="form.password.$dirty" class="col-md-4 message">
            <span ng-show="form.password.$error.required" class="form-control alert alert-danger">
                {{languages.getValue('RequiredF').replace('{0}', languages.getValue('OldPassword'))}}
            </span>
            <span ng-show="form.password.$error.minlength || form.password.$error.maxlength" class="form-control alert alert-danger">
                {{languages.getValue('Length').replace('{0}', languages.getValue('OldPassword')).replace('{1}', '6').replace('{2}', '20')}}
            </span>
            <span ng-show="!form.password.$error.required && !(form.password.$error.minlength || form.password.$error.maxlength) && form.password.$invalid"
                  class="form-control alert alert-danger" style="height: auto;">{{languages.getValue('PasswordValidation')}}</span>
        </div>
    </div>
    <!--old password-->

    <!--password-->
    <div class="form-group has-feedback" 
         ng-class="{ 'has-error': form.password.$invalid && form.password.$dirty, 'has-success': !form.password.$invalid && form.password.$dirty }">
        <label class="col-md-2 control-label">{{languages.getValue('New')}}&nbsp;{{languages.getValue('Password')}}</label>
        <div class="col-md-4">
            <input type="password" id="password" class="form-control" name="password" ng-model="registerViewModel.password" required ng-minlength="6" ng-maxlength="20"
                   pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}" />
            <i class="glyphicon glyphicon-ok form-control-feedback"></i>
            <i class="glyphicon glyphicon-remove form-control-feedback"></i>
        </div>
        <div ng-show="form.password.$dirty" class="col-md-4 message">
            <span ng-show="form.password.$error.required" class="form-control alert alert-danger">
                {{languages.getValue('RequiredF').replace('{0}', languages.getValue('New') + " " + languages.getValue('Password'))}}
            </span>
            <span ng-show="form.password.$error.minlength || form.password.$error.maxlength" class="form-control alert alert-danger">
                {{languages.getValue('Length').replace('{0}', languages.getValue('New') + " " + languages.getValue('Password')).replace('{1}', '6').replace('{2}', '20')}}
            </span>
            <span ng-show="!form.password.$error.required && !(form.password.$error.minlength || form.password.$error.maxlength) && form.password.$invalid"
                  class="form-control alert alert-danger" style="height: auto;">{{languages.getValue('PasswordValidation')}}</span>
        </div>
    </div>
    <!--password-->

    <!--confirmPassword-->
    <div class="form-group has-feedback" ng-class="{ 'has-error': registerViewModel.password != registerViewModel.confirmPassword &&
         (form.confirmPassword.$dirty || form.password.$dirty) || form.confirmPassword.$invalid && form.confirmPassword.$dirty,
         'has-success': registerViewModel.password == registerViewModel.confirmPassword && form.confirmPassword.$valid && form.confirmPassword.$dirty }">
        <label class="col-md-2 control-label">{{languages.getValue('ConfirmNewPassword')}}</label>
        <div class="col-md-4">
            <input type="password" class="form-control" name="confirmPassword" ng-model="registerViewModel.confirmPassword" required />
            <i class="glyphicon glyphicon-remove form-control-feedback"></i>
            <i class="glyphicon glyphicon-ok form-control-feedback"></i>
        </div>
        <div class="col-md-4 message">
            <div ng-show="form.confirmPassword.$dirty && form.confirmPassword.$error.required">
                <span class="form-control alert alert-danger">
                    {{languages.getValue('RequiredF').replace('{0}', languages.getValue('ConfirmNewPassword'))}}
                </span>
            </div>
            <div ng-show="(form.confirmPassword.$dirty || form.password.$dirty) && !form.confirmPassword.$error.required">
                <span class="form-control alert alert-danger" ng-show="registerViewModel.password != registerViewModel.confirmPassword">
                    {{languages.getValue('PasswordDoNotMatch')}}
                </span>
            </div>
        </div>
    </div>
    <!--confirmPassword-->

    <!--button-->
    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <button type="submit" class="btn btn-success" ng-click="register()" ng-disabled="form.$invalid || registerViewModel.password != registerViewModel.confirmPassword">
                {{languages.getValue('Save')}}
            </button>
        </div>
    </div>
    <!--button-->
</form>